<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Daily note </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.54.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.955516233bcafa4d2a1c13cea63c7b50.css" rel="stylesheet">
    

    

    
      
    

    
      <link href="https://daily.whidy.net/posts/index.xml" rel="alternate" type="application/rss+xml" title="Daily note" />
      <link href="https://daily.whidy.net/posts/index.xml" rel="feed" type="application/rss+xml" title="Daily note" />
    

    <meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://daily.whidy.net/posts/" />

<meta property="og:updated_time" content="2018-03-16T00:00:00&#43;00:00"/>

<meta itemprop="name" content="Posts">
<meta itemprop="description" content="">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://daily.whidy.net" class="f3 fw2 hover-white no-underline white-90 dib">
      Daily note
    </a>
    <div class="flex-l items-center">
      

      
      









    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height nested-img">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section>
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-03-16-apache-host/" class="link black dim">
        日志
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      2018年3月16日 阴 一般
 博客转移/域名解析/其他配置 域名解析, 全部设置为A记录指向服务器IP, 然后还是用原来的301转向, (www.)whidy.cn和whidy.net全部跳转到www.whidy.net.
Apache服务器优化 Rewrite模块 为了伪静态页面和301重定向, 这边文章讲得很清楚了Install and Configure mod_rewrite for Apache on CentOS 7
开启Gzip压缩功能 方案一: 修改httpd.conf配置 如上文: 打开这个文件
# nano /etc/httpd/conf.modules.d/00-base.conf  检查mod_deflate module是否正常开启(默认是开启的)
LoadModule deflate_module modules/mod_deflate.so  然后修改httpd.conf
# nano /etc/httpd/conf/httpd.conf  文件末尾增加
AddOutputFilterByType DEFLATE text/plain AddOutputFilterByType DEFLATE text/html AddOutputFilterByType DEFLATE text/xml AddOutputFilterByType DEFLATE text/css AddOutputFilterByType DEFLATE application/xml AddOutputFilterByType DEFLATE application/xhtml+xml AddOutputFilterByType DEFLATE application/rss+xml AddOutputFilterByType DEFLATE application/javascript AddOutputFilterByType DEFLATE application/x-javascript  重启服务
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-03-15-note/" class="link black dim">
        日志
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      2018年3月15日 阴 一般
 日志 前阵子家里有点事情回去了将近一周, 也忙于工作上的各种事情， 做小程序的过程中遇到了很多问题. 然后这几天又急着要一个页面, 在另一个同事帮助下用vue开发, 今天算多日没有写日志的打卡记录吧.
微信授权 获取openid的方法, 官方文档: https://mp.weixin.qq.com/debug/wxadoc/dev/api/api-login.html
同时有一个疑问: 授权用户信息是否应该存入storage? 如果写入全局对象, 用户拒绝授权后重新刷新页面如何重新请求授权? 是否有时效性还是需要手动清除缓存?
同时跟授权有关的一篇文章参考: 微信小程序授权获取用户详细信息openid
网上也有说用解密的方式: 微信小程序调用微信登陆获取openid及用户信息 java做为服务端
其他的研究JWT:
http://blog.leapoahead.com/2015/09/06/understanding-jwt/
其他 我在做小程序的时候, 思考如何能在不同的电脑上同步小程序代码, 因为之前买的腾讯云主机是centos, 因此顺便再了解了下linux系统目录http://cn.linux.vbird.org/linux_basic/0210filepermission.php
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-03-06-weapp/" class="link black dim">
        微信小程序开发中的问题
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      2018年3月6日 阴 一般
 最近比较忙 转到新部门了，熟悉新业务，最近也就没有什么笔记了。另外最近接了一个新任务，开发一项公司内部的小程序应用，于是这几天主要就是看小程序，接下来的一些笔记应该是主要关于微信小程序的开发笔记。
开发文档: https://mp.weixin.qq.com/debug/wxadoc/dev/
模块化https://mp.weixin.qq.com/debug/wxadoc/dev/framework/app-service/module.html  exports 是 module.exports 的一个引用，因此在模块里边随意更改 exports 的指向会造成未知的错误。所以更推荐开发者采用 module.exports 来暴露模块接口，除非你已经清晰知道这两者的关系
 那么exports和module.exports的区别是什么呢?(以下内容有误, 请不要阅读)
根据我的阅读研究和分析, 标准规范上来说, 将一个js文件的对象对外暴露出去, 一般是使用module.exports的, 这样另一个文件require的时候, 就可以直接使用了, 例如
//b.js var test = (name) =&gt; { console.log('hi ' + name); } module.exports = { foo: test, bar: 'bar' }; exports.foo = name =&gt; { console.log('hi ' + name + ' by exports'); }; exports.foo('hello');  //a.js const test = require('.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-02-28-javascript/" class="link black dim">
        复习
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      2018年2月28日 晴 一般
 面试题小试  前天晚上发烧, 不舒服, 然后迷迷糊糊上了一天班. 昨天有个群友面试, 主要是ES5, 关于变量提升, 原型继承, 还有两个关于算法的, 一个排序, 一个数组去重, 于是做了一下, 顺便也看了其他的面试题.
 题一: 输出6个5;
题二: chrome下, 依次输出2 4 1 2 3 3, node环境下第3个报错.
题三: 我思路很清楚, 貌似代码写起来不是很利索, 写完了最常见的, 想起还有个方案, 不过还是第一个次数少一点. (为了示例搞了两个数组)
var arr1 = [3, 1, 2, 5, 4, 2]; var arr2 = [3, 1, 2, 5, 4, 2]; var arrLen = arr1.length; var counter = 0; var mySort = { way1: function(arr) { counter = 0; var i = (j = 0), temp; while (i &lt; arrLen) { j = i + 1; while (j &lt; arrLen) { counter++; if (arr[i] - arr[j] &gt; 0) { temp = arr[i]; arr[i] = arr[j]; arr[j] = temp; } j++; } i++; } }, way2: function(arr) { counter = 0; var i = (j = 0), temp; while (i &lt; arrLen) { j = 0; while (j &lt; arrLen - 1) { if (arr[j] - arr[j + 1] &gt; 0) { temp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = temp; } j++; counter++; } i++; } } }; mySort.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-02-24-cssnano/" class="link black dim">
        PostCSS不支持部分SASS研究
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      2018年2月24日 阴 较差
 PostCSS不支持部分SASS研究 继续昨天#{$c}如何在PostCSS下得到支持 原环境下, precss插件直接编译报错, 此时&quot;precss&quot;: &quot;^2.0.0&quot;版本较低, 发现官方最新为3.1.0, 更新了, 并不会报错了, 但是编译结果是错误的. 我们回顾一下代码:
postcss.config.js
module.exports = { parser: 'postcss-scss', plugins: [ require('precss') ] };  css
.component { $c: &amp;; padding: 2vw; &amp;__card { background-color: #fff; &amp;:hover #{$c}__name { color: #bada55; } } &amp;__name { color: #000; } &amp;__button { background-color: blue; color: #fff; } }  期望结果, 可以通过这个在线编译http://sass.js.org/测试:
/* 此段为期望的正确结果 */ .component { padding: 2vw; } .
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-02-23-cssnano/" class="link black dim">
        Wang Year of the Dog
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      2018年2月23日 阴 还行
 狗年旺旺 开工大吉, 给各位朋友拜年. 新年技术步步高升, 事业蒸蒸日上. (说得好像有人看似的😂)
 一早, 领了几个红包后, 带着深深的睡意, 坚持着决定把之前写的那些技术日志粗略复习一遍. 然而, 瞌睡虫挣扎中的我&hellip;
 01-16 提到的#{$c}在PostCSS下无法编译 然后, 我开始测试postcss-study的DEMO中, 为什么这个SASS标准语法在此无法被支持, 如果precss不支持, 那还需要额外的什么插件呢, 测试的同时, 我又期望cssnano插件不要压缩css代码, 即不希望postcss-normalize-whitespace被执行, 尝试用Which Optimization Removes Spaces between Selectors and Brackets?写法, 多次测试都没有用. 那么目前我们需要解决的问题就有两个了.
#{$c}如何在PostCSS下得到支持 看了好多插件测试, 没整出来&hellip;明天继续.
如何关闭或配置cssnano的某些插件 这个问题对我目前的水平来说是一个巨大的挑战, 我本以为官方的Optimisations这里面的所有插件都可以像官方示例的这段代码来改:
module.exports = { plugins: [ require('cssnano')({ preset: [ 'default', { discardComments: { removeAll: true } } ] }) ] };   如上代码, 我在插件列表中找到postcss-discard-comments, 我以为只需要删掉前缀postcss-, 并把后面部分改成驼峰写法, 然后配置成true或false, 就可以达到禁用某些插件的目的.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-02-12-untitled/" class="link black dim">
        Untitled
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      2018年2月12日 晴 一般
 无题 前几天电脑重装WIN10, 由于硬件过旧, 引导兼容性不好, 搞了很久才装好, 然后9号晚上硬盘暴毙, 数据丢失, 折腾几日无效.
另外最近忙着帮朋友改点琐碎的毫无技术含量的令人厌恶的页面. 也就耽搁了学习.
马上过年了, 此处更新暂时告一段落, 提前给大家拜年~ 狗年吉祥
福利
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-02-09-postcss-cssnano/" class="link black dim">
        postcss插件cssnano
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
        2018年2月9日 阴 一般
 postcss插件cssnano 早上看到SegmentFault上有个人请教一个关于插件编译错误的回复https://segmentfault.com/a/1190000010947054, 引起了我的好奇, 我便看了下.
关于postcss-neat插件使用报错的问题. 我自己测试了一下, 是跟其他的插件有冲突. 后来又发现他发了个提问, 我也顺手回答了postcss-salad 在用栅格 布局的时候报错？
不过由这个引发的我的一些思考:
 PostCSS插件使用过程中, 如何避免此类问题, 因为对css文件处理顺序产生的冲突编译报错. 在使用cssnano和postcss-salad该类插件包的时候, 如何配置他们仅使用某些插件或者禁用其中的插件.(我今天花了点时间去查文档没有查到, 抽空进一步研究一下!)  
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-02-08-object-call-apply/" class="link black dim">
        call和apply
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      2018年2月8日 晴 一般
 函数原型和继承学习总结  昨晚回去又看了一下JavaScript权威指南第六章, 其中提到, 1, &quot;test&quot;, true, 这类不是对象, 或者也可以当作临时对象, 书中举例var s = &quot;test&quot;, 此时可以给s一个属性, 比如s.a = 1, 但是你访问不到该属性s.a是undefined. 因为这三种是原始类型什么的- -.
另外还有个包装对象, 好像目前看不出来有啥用. 先不看了吧- -
今天接着看昨天没看完的内容和补充昨天的内容.
 昨日内容补充 Object.prototype.constructor  早上读昨天没看完的文章Basic Inheritance with JavaScript Constructors
 一般的通过new构造函数实现继承就不说了. 这里用call来实现(用面向对象表达)所谓的&rdquo;一个通过SuperHero类创建的marvel实例, 继承SuperHuman的方法&rdquo;的过程. 下面是合并后的代码:
function SuperHuman(name, superPower) { this.name = name; this.superPower = superPower; } SuperHuman.prototype.usePower = function() { console.log(this.superPower + '!'); }; var banshee = new SuperHuman('Silver Banshee', 'sonic wail'); function SuperHero(name, superPower) { // Reuse SuperHuman initialization SuperHuman.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/2018-02-07-prototype-constructor/" class="link black dim">
        函数原型和继承学习总结
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      2018年2月7日 晴 一般
 函数原型和继承学习总结 Object.prototype JS一切皆对象, 对象都具有内置属性[[prototype]](也可用__proto__表示). 每个函数创建后拥有名为prototype的属性, 它又有一个constructor, 有个例外: 通过Function.prototype.bind方法构造出来的函数没有prototype属性。
偷了一张图doris的回答:
参阅: * 知乎: js中__proto__和prototype的区别和关系？ * MDN: Object.prototype
Object.prototype.constructor 返回创建实例对象的Object构造函数的引用。 返回值为只读的原始类型.
这里有个关于改变对象的constructor例子, 比较特别的是, 数字, 布尔, 字符串不被改变.
 只有 true, 1 和 &ldquo;test&rdquo; 的不受影响，因为创建他们的是只读的原生构造函数（native constructors）。
 function Type() { }; Type // ƒ Type() { } var a = []; a.constructor // ƒ Array() { [native code] } a.constructor = Type; a.constructor // ƒ Type() { } &quot;被改变&quot; var b = 666; b.
    </div>
  </div>
</div>
</div>
      
    </section>

<ul class="pagination">
    
    <li class="page-item">
        <a href="/posts/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/posts/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/posts/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/4/">4</a></li>
    
    
    <li class="page-item">
    <a href="/posts/page/3/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/posts/page/4/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>
</article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://daily.whidy.net" >
    &copy; 2019 Daily note
  </a>
    <div>








</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
