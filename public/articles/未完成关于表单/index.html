<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="//gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.54.0" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title> &middot; Daily note</title>

  
  <link type="text/css" rel="stylesheet" href="https://daily.whidy.netcss/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://daily.whidy.netcss/poole.css">
  <link type="text/css" rel="stylesheet" href="https://daily.whidy.netcss/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://daily.whidy.netcss/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Daily note" />

  
</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://daily.whidy.net"><h1>Daily note</h1></a>
      <p class="lead">
      An elegant open source and mobile first theme for <a href="http://hugo.spf13.com">hugo</a> made by <a href="http://twitter.com/mdo">@mdo</a>. Originally made for Jekyll.
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://daily.whidy.net">Home</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2019. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1></h1>
  <time datetime=0001-01-01T00:00:00Z class="post-date">Mon, Jan 1, 0001</time>
  <pre><code class="language-html">&lt;!-- before --&gt;
&lt;form bindsubmit=&quot;login&quot;&gt;
  &lt;view class=&quot;form-login&quot;&gt;
    &lt;view class=&quot;form-login-group&quot;&gt;
      &lt;input id=&quot;loginName&quot; type=&quot;text&quot; placeholder=&quot;用户名/邮箱&quot; name=&quot;name&quot; value=&quot;{{name}}&quot; bindinput=&quot;inputStatus&quot; bindblur=&quot;inputBlur&quot; bindfocus=&quot;inputFocus&quot;&gt;&lt;/input&gt;
      &lt;icon hidden=&quot;{{showNameIcon == ''}}&quot; type=&quot;clear&quot; size=&quot;16&quot; color=&quot;#ccc&quot; class=&quot;btn-clear-input&quot; bindtap=&quot;clearInput&quot; data-type=&quot;name&quot; /&gt;
    &lt;/view&gt;
    &lt;view class=&quot;form-login-group&quot;&gt;
      &lt;input id=&quot;loginPass&quot; type=&quot;password&quot; placeholder=&quot;密码&quot; name=&quot;pass&quot; value=&quot;{{pass}}&quot; bindinput=&quot;inputStatus&quot; bindblur=&quot;inputBlur&quot; bindfocus=&quot;inputFocus&quot;&gt;&lt;/input&gt;
      &lt;icon hidden=&quot;{{showPassIcon == ''}}&quot; type=&quot;clear&quot; size=&quot;16&quot; color=&quot;#ccc&quot; class=&quot;btn-clear-input&quot; bindtap=&quot;clearInput&quot; data-type=&quot;pass&quot; /&gt;
    &lt;/view&gt;
    &lt;button class=&quot;btn-login&quot; formType=&quot;submit&quot; size=&quot;default&quot;&gt;登录&lt;/button&gt;
    &lt;view class=&quot;info&quot;&gt;注册账号请暂时到电脑版进行操作&lt;/view&gt;
  &lt;/view&gt;

&lt;/form&gt;


&lt;!-- after --&gt;
&lt;form bindsubmit=&quot;login&quot;&gt;
  &lt;view class=&quot;form-login&quot;&gt;
    &lt;view class=&quot;form-login-group&quot;&gt;
      &lt;input id=&quot;loginName&quot; class=&quot;&quot; type=&quot;text&quot; placeholder=&quot;用户名/邮箱&quot; placeholder-class=&quot;input-placeholder&quot; name=&quot;name&quot; value=&quot;{{name}}&quot; bindinput=&quot;inputStatus&quot; bindblur=&quot;inputBlur&quot; bindfocus=&quot;inputFocus&quot;&gt;&lt;/input&gt;
      &lt;icon hidden=&quot;{{currentFocus != 'loginName' || name == ''}}&quot; type=&quot;clear&quot; size=&quot;16&quot; color=&quot;#ccc&quot; class=&quot;btn-clear-input&quot; bindtap=&quot;clearInput&quot; data-type=&quot;name&quot; /&gt;
    &lt;/view&gt;
    &lt;view class=&quot;form-login-group&quot;&gt;
      &lt;input id=&quot;loginPass&quot; type=&quot;password&quot; placeholder=&quot;密码&quot; placeholder-class=&quot;input-placeholder&quot; name=&quot;pass&quot; value=&quot;{{pass}}&quot; bindinput=&quot;inputStatus&quot; bindblur=&quot;inputBlur&quot;  bindfocus=&quot;inputFocus&quot;&gt;&lt;/input&gt;
      &lt;icon hidden=&quot;{{currentFocus != 'loginPass' || pass == ''}}&quot; type=&quot;clear&quot; size=&quot;16&quot; color=&quot;#ccc&quot; class=&quot;btn-clear-input&quot; bindtap=&quot;clearInput&quot; data-type=&quot;pass&quot; /&gt;
    &lt;/view&gt;
    &lt;button class=&quot;btn-login&quot; formType=&quot;submit&quot; size=&quot;default&quot;&gt;登录&lt;/button&gt;
    &lt;view class=&quot;info&quot;&gt;注册账号请暂时到电脑版进行操作&lt;/view&gt;
  &lt;/view&gt;
&lt;/form&gt;
</code></pre>

<pre><code class="language-javascript">//before
data: {
  hasName: false,
  hasPass: false,
  name: '',
  pass: '',
  showNameIcon: false,
  showPassIcon: false,
},
clearInput: function(e) {
  if (e.target.dataset.type == 'name') {
    this.setData({
      hasName: false,
      name: '',
      showNameIcon: false
    });
  }
  if (e.target.dataset.type == 'pass') {
    this.setData({
      hasPass: false,
      pass: '',
      showPassIcon: false
    });
  }
},
inputStatus: function(el) {
  if (el.target.id == 'loginName') {
    this.setData({
      name: el.detail.value,
      hasName: !!el.detail.value,
      showNameIcon: true
    });
  }
  if (el.target.id == 'loginPass') {
    this.setData({
      pass: el.detail.value,
      hasPass: !!el.detail.value,
      showPassIcon: true
    });
  }
},
inputBlur: function(el) {
  if (el.target.id == 'loginName') {
    this.setData({
      showNameIcon: !this.data.hasName
    });
  }
  if (el.target.id == 'loginPass') {
    this.setData({
      showPassIcon: !this.data.hasPass
    });
  }
},
inputFocus: function(el) {
  console.log(el);
  if (el.target.id == 'loginName') {
    this.setData({
      showNameIcon: this.data.hasName
    });
  }
  if (el.target.id == 'loginPass') {
    this.setData({
      showPassIcon: this.data.hasPass
    });
  }
},

// after
data: {
  hasname: false,
  haspass: false,
  name: '',
  pass: '',
  currentFocus: ''
},
clearInput: function(el) {
  let currentType = el.target.dataset.type;
  let currentValue = 'has' + currentType;
  let dataObj = {};
  dataObj[currentValue] = false;
  dataObj[currentType] = '';
  this.setData(dataObj);
},
inputStatus: function(el) {
  let dataObj = {};
  let currentType = el.target.dataset.type;
  dataObj[currentType] = el.detail.value;
  this.setData(dataObj);
},
inputBlur: function(el) {
  this.setData({
    currentFocus: ''
  });
},
inputFocus: function(el) {
  this.setData({
    currentFocus: el.target.dataset.type
  });
},
</code></pre>

</div>


    </main>

    
  </body>
</html>
